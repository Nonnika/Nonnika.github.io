<!DOCTYPE html>
<html>
    <head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
  <meta name="robots" content="index, follow">
  <!-- title -->
  
    
  <title>快速幂法 - Nonnika&#39;s Blog</title>
    
  
  
  <!-- open graph -->
  <meta name="description" content="作者：Liew.Y 先上代码后面解释 1234567891011121314151617#include &lt;cstdio&gt;int main(void) &#123;    &#x2F;&#x2F; 快速幂法int base &#x3D; 2;  &#x2F;&#x2F; 底数2int power &#x3D; 14;  &#x2F;&#x2F; 指数nint result &#x3D; 1;  &#x2F;&#x2F; 结果    while (power) &#123;        if">
<meta property="og:type" content="article">
<meta property="og:title" content="快速幂法">
<meta property="og:url" content="https://blog.liewyoung.top/2025/08/09/%E5%BF%AB%E9%80%9F%E5%B9%82%E6%B3%95/index.html">
<meta property="og:site_name" content="Nonnika&#39;s Blog">
<meta property="og:description" content="作者：Liew.Y 先上代码后面解释 1234567891011121314151617#include &lt;cstdio&gt;int main(void) &#123;    &#x2F;&#x2F; 快速幂法int base &#x3D; 2;  &#x2F;&#x2F; 底数2int power &#x3D; 14;  &#x2F;&#x2F; 指数nint result &#x3D; 1;  &#x2F;&#x2F; 结果    while (power) &#123;        if">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-08-09T14:46:06.000Z">
<meta property="article:modified_time" content="2026-02-05T07:37:18.354Z">
<meta property="article:author" content="Nonnika">
<meta property="article:tag" content="算法">
<meta name="twitter:card" content="summary">
  <!-- canonical -->
  
  <link rel="canonical" href="https://blog.liewyoung.top/2025/08/09/快速幂法/">
  
  <!-- Favicon -->
  <link rel="shortcut icon" href="/img/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
  <!-- CSS -->
  
<link rel="stylesheet" href="/css/reset.css">

  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/css/markdown.css">

  
<link rel="stylesheet" href="/css/fonts.css">

  
<link rel="stylesheet" href="/css/github.css">

<meta name="generator" content="Hexo 7.3.0"></head>

    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="post-header">
    <a class="logo" href="/">Nonnika&#39;s Blog</a>
    <!-- <div class="logo"><a href="/" title="Len"><img src="/img/logo.svg" alt="Len" aria-label="logo" height="20"></a></div> -->
        <ul class="nav">
            
            <li><a href="/">Home</a></li>
            
            <li><a href="/about">About</a></li>
            
            <li><a href="/archives">Archives</a></li>
            
        </ul>


    </a>
</div>

                
                <div class="post-main">
    
        <div class="post-main-title">
            快速幂法
        </div>
        <div class="post-meta">
            2025-08-09 ｜ 
            
                <a href="/categories/ACM/"># ACM</a>
            
        </div>
        <!-- 圆角分类 -->
        <!-- <div class="tags"> -->
            <!--  -->
                <!-- <a href="/categories/ACM/">ACM</a> -->
            <!--  -->
        <!-- </div> -->
        <div class="post-md">
            <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/css/lightgallery.min.css" /><div class=".article-gallery"><p><strong>作者</strong>：Liew.Y<br />
<strong>先上代码后面解释</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>&#123;<br>    <span class="hljs-comment">// 快速幂法</span><br><span class="hljs-type">int</span> base = <span class="hljs-number">2</span>;  <span class="hljs-comment">// 底数2</span><br><span class="hljs-type">int</span> power = <span class="hljs-number">14</span>;  <span class="hljs-comment">// 指数n</span><br><span class="hljs-type">int</span> result = <span class="hljs-number">1</span>;  <span class="hljs-comment">// 结果</span><br>    <span class="hljs-keyword">while</span> (power) &#123;<br>        <span class="hljs-keyword">if</span> (power &amp; <span class="hljs-number">1</span>) &#123;<br>            result *= base;<br>        &#125;<br>        base *= base;<br>        power &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, result);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="什么是快速幂法"><a class="markdownIt-Anchor" href="#什么是快速幂法"></a> 什么是快速幂法？</h2>
<p>其本质就是<strong>把幂不断降次。</strong><br />
如： <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mn>2</mn><mrow><mo stretchy="false">(</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mn>12</mn></msubsup><mo>=</mo><msubsup><mn>4</mn><mrow><mo stretchy="false">(</mo><mn>10</mn><mo stretchy="false">)</mo></mrow><mn>6</mn></msubsup></mrow><annotation encoding="application/x-tex">2^{12}_{(10)} = 4^{6}_{(10)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111079999999997em;vertical-align:-0.49699999999999994em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999998em;"><span style="top:-2.378em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.49699999999999994em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.3111079999999997em;vertical-align:-0.49699999999999994em;"></span><span class="mord"><span class="mord">4</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999998em;"><span style="top:-2.378em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.49699999999999994em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>这个时候我们需要思考一个问题</p>
<blockquote>
<p><strong>幂运算的本质是什么？</strong></p>
</blockquote>
<blockquote>
<p>其本质就是<strong>连续的乘法</strong></p>
</blockquote>
<p>这个时候我们又要思考一个问题<br />
<strong>如何把降幂运算和计算机结合？</strong></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext mathvariant="bold">思维链</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>1.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mtext> 首先计算机运算以及数据储存的形式是</mtext><mtext mathvariant="bold">二进制</mtext></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>2.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 其次二进制每一位储存的形式是 </mtext><msup><mn>2</mn><mi>n</mi></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>3.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 而 base</mtext><mo>×</mo><mtext>base</mtext><mo>=</mo><msup><mtext>base</mtext><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>4.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 所以我们可以得到一个简单的思路</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>5.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 所有的 </mtext><msub><mi>n</mi><mrow><mo stretchy="false">(</mo><mn>10</mn><mo stretchy="false">)</mo></mrow></msub><mtext> 都可以使用二进制形式 </mtext><msub><mi>n</mi><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msub><mtext> 来进行表示</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>6.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 对于 </mtext><msup><mtext>base</mtext><mtext>power</mtext></msup><mo>=</mo><msup><mtext>base</mtext><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>+</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup><mo>+</mo><mo>⋯</mo><mo>+</mo><msup><mn>2</mn><mn>0</mn></msup></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>7.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 最终我们可以得到 </mtext><msup><mtext>base</mtext><mtext>power</mtext></msup><mo>=</mo><msup><mtext>base</mtext><msup><mn>2</mn><mi>n</mi></msup></msup><mo>⋅</mo><msup><mtext>base</mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></msup><mo>⋅</mo><mo>⋯</mo><mo>⋅</mo><msup><mtext>base</mtext><msup><mn>2</mn><mn>0</mn></msup></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>8.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 我们还可以观察到 </mtext><msup><mtext>base</mtext><msup><mn>2</mn><mi>n</mi></msup></msup><mo>=</mo><msup><mtext>base</mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></msup><mo>⋅</mo><msup><mtext>base</mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mtext>base</mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msup></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>结果：以 </mtext><msup><mtext>base</mtext><mn>2</mn></msup><mtext> 为基础不断降幂</mtext></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
&amp;\textbf{思维链}\\[4pt]
1. &amp;\text{ 首先计算机运算以及数据储存的形式是\textbf{二进制}}\\[4pt]
2. &amp;\text{ 其次二进制每一位储存的形式是 }2^{n}\\[4pt]
3. &amp;\text{ 而 } \text{base} \times \text{base}= \text{base}^{2}\\[4pt]
4. &amp;\text{ 所以我们可以得到一个简单的思路}\\[4pt]
5. &amp;\text{ 所有的 }n_{(10)}\text{ 都可以使用二进制形式 }n_{(2)}\text{ 来进行表示}\\[4pt]
6. &amp;\text{ 对于 } \text{base}^{\text{power}} = \text{base}^{2^{n}+2^{n-1}+\dots+2^{0}}\\[4pt]
7. &amp;\text{ 最终我们可以得到 } \text{base}^{\text{power}}=\text{base}^{2^{n}}\cdot \text{base}^{2^{n-1}}\cdot \dots \cdot \text{base}^{2^{0}}\\[4pt]
8. &amp;\text{ 我们还可以观察到 } \text{base}^{2^{n}}=\text{base}^{2^{n-1}}\cdot \text{base}^{2^{n-1}} = (\text{base}^{2^{n-1}})^{2}\\[8pt]
&amp;\boxed{\text{结果：以 }\text{base}^{2}\text{ 为基础不断降幂}}
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:20.150676000000004em;vertical-align:-9.825338em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.325338000000002em;"><span style="top:-12.723786000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"></span></span><span style="top:-10.823786000000004em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">1</span><span class="mord">.</span></span></span><span style="top:-8.923786000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">2</span><span class="mord">.</span></span></span><span style="top:-6.965338000000003em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">3</span><span class="mord">.</span></span></span><span style="top:-5.065338000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">4</span><span class="mord">.</span></span></span><span style="top:-3.1653380000000015em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">5</span><span class="mord">.</span></span></span><span style="top:-1.0340780000000005em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">6</span><span class="mord">.</span></span></span><span style="top:1.0971820000000005em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">7</span><span class="mord">.</span></span></span><span style="top:3.228442000000001em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord">8</span><span class="mord">.</span></span></span><span style="top:5.92689em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.825338em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.325338000000002em;"><span style="top:-12.723786000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord textbf cjk_fallback">思维链</span></span></span></span><span style="top:-10.823786000000004em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">首先计算机运算以及数据储存的形式是</span><span class="mord text"><span class="mord textbf cjk_fallback">二进制</span></span></span></span></span><span style="top:-8.923786000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">其次二进制每一位储存的形式是</span><span class="mord"> </span></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span style="top:-6.965338000000003em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">而</span><span class="mord"> </span></span><span class="mord text"><span class="mord">base</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class="mord">base</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-5.065338000000002em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">所以我们可以得到一个简单的思路</span></span></span></span><span style="top:-3.1653380000000015em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">所有的</span><span class="mord"> </span></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">都可以使用二进制形式</span><span class="mord"> </span></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">来进行表示</span></span></span></span><span style="top:-1.0340780000000005em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">对于</span><span class="mord"> </span></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.748732em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">power</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mbin mtight">+</span><span class="minner mtight">⋯</span><span class="mbin mtight">+</span><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:1.0971820000000005em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">最终我们可以得到</span><span class="mord"> </span></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.748732em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">power</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.96432em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:3.228442000000001em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">我们还可以观察到</span><span class="mord"> </span></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.96432em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385428571428572em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0712599999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913142857142857em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:5.92689em;"><span class="pstrut" style="height:3.238448em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2384479999999998em;"><span style="top:-3.578448em;"><span class="pstrut" style="height:3.578448em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord text"><span class="mord cjk_fallback">结果：以</span><span class="mord"> </span></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">为基础不断降幂</span></span></span></span></span></span><span style="top:-3.238448em;"><span class="pstrut" style="height:3.578448em;"></span><span class="stretchy fbox" style="height:1.5784479999999999em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3400000000000001em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.825338em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>此时我们自然的想到</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs text">if 存在2的某次方对应的位数为0 &#123;<br>	不应该相乘<br>&#125; else &#123;<br>	相乘<br>&#125;<br>进入下一位<br></code></pre></td></tr></table></figure>
<p>此时我们产生了一个问题：<br />
<em><strong>如何确定是否要相乘？</strong></em></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext mathvariant="bold">思维链</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>1.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 计算机以二进制存储数据。</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>2.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 降幂本质：</mtext><mspace width="1em"/><msup><mtext>base</mtext><mrow><mn>2</mn><mi>k</mi></mrow></msup><mo>=</mo><mo stretchy="false">(</mo><msup><mtext>base</mtext><mi>k</mi></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><msup><mtext>base</mtext><mi>k</mi></msup><mo>⋅</mo><msup><mtext>base</mtext><mi>k</mi></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>3.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 二进制位不连续，如 </mtext><mn>100</mn><msub><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>4.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 仅需判断“当前位是否为 </mtext><mn>1</mn><mtext>”</mtext><mo>⇒</mo><mtext>真假</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>5.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 不关心原值是否被破坏。</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mn>6.</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext> 做法：</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mtext>power</mtext><mi mathvariant="normal">&amp;</mi><mn>1</mn><mspace width="1em"/><mtext>(取最低位)</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mtext>power</mtext><mo>≫</mo><mn>1</mn><mspace width="1em"/><mtext>(右移一位，丢弃已处理位)</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><menclose notation="box"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="false"><mstyle scriptlevel="0" displaystyle="true"><mrow><mtext>借助 </mtext><mn>0000</mn><mtext> </mtext><mn>000</mn><msub><mn>1</mn><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msub><mtext> 逐位取值</mtext></mrow></mstyle></mstyle></mstyle></menclose></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
&amp;\textbf{思维链}\\[4pt]
1. &amp;\text{ 计算机以二进制存储数据。}\\[4pt]
2. &amp;\text{ 降幂本质：}\quad \text{base}^{2k}= (\text{base}^{k})^{2} = \text{base}^{k}\cdot \text{base}^{k} \\[4pt]
3. &amp;\text{ 二进制位不连续，如 }1001_{(2)}\\[4pt]
4. &amp;\text{ 仅需判断“当前位是否为 }1\text{”} \Rightarrow \text{真假}\\[4pt]
5. &amp;\text{ 不关心原值是否被破坏。}\\[6pt]
6. &amp;\text{ 做法：}\\
   &amp;\quad\text{power} \&amp; 1  \quad\text{(取最低位)}\\
   &amp;\quad\text{power} \gg 1 \quad\text{(右移一位，丢弃已处理位)}\\[6pt]
&amp;\boxed{\text{借助 }0000\,0001_{(2)}\text{ 逐位取值}}
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:18.811978000000003em;vertical-align:-9.155989em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.655989000000002em;"><span style="top:-11.839319000000001em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"></span></span><span style="top:-9.939319000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">1</span><span class="mord">.</span></span></span><span style="top:-7.945871000000004em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">2</span><span class="mord">.</span></span></span><span style="top:-6.0458710000000035em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">3</span><span class="mord">.</span></span></span><span style="top:-4.145871000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">4</span><span class="mord">.</span></span></span><span style="top:-2.245871000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">5</span><span class="mord">.</span></span></span><span style="top:-0.1458710000000032em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord">6</span><span class="mord">.</span></span></span><span style="top:1.3541289999999964em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"></span></span><span style="top:2.8541289999999964em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"></span></span><span style="top:5.137459000000001em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.155989em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:9.655989000000002em;"><span style="top:-11.839319000000001em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord textbf cjk_fallback">思维链</span></span></span></span><span style="top:-9.939319000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">计算机以二进制存储数据。</span></span></span></span><span style="top:-7.945871000000004em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">降幂本质：</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span><span style="top:-6.0458710000000035em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">二进制位不连续，如</span><span class="mord"> </span></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.145871000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">仅需判断</span><span class="mord">“</span><span class="mord cjk_fallback">当前位是否为</span><span class="mord"> </span></span><span class="mord">1</span><span class="mord text"><span class="mord">”</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⇒</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord cjk_fallback">真假</span></span></span></span><span style="top:-2.245871000000003em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">不关心原值是否被破坏。</span></span></span></span><span style="top:-0.1458710000000032em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">做法：</span></span></span></span><span style="top:1.3541289999999964em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord">power</span></span><span class="mord">&amp;</span><span class="mord">1</span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord">(</span><span class="mord cjk_fallback">取最低位</span><span class="mord">)</span></span></span></span><span style="top:2.8541289999999964em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord">power</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≫</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord">(</span><span class="mord cjk_fallback">右移一位，丢弃已处理位</span><span class="mord">)</span></span></span></span><span style="top:5.137459000000001em;"><span class="pstrut" style="height:3.02333em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.02333em;"><span style="top:-3.71853em;"><span class="pstrut" style="height:3.71853em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord text"><span class="mord cjk_fallback">借助</span><span class="mord"> </span></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">逐位取值</span></span></span></span></span></span><span style="top:-3.02333em;"><span class="pstrut" style="height:3.71853em;"></span><span class="stretchy fbox" style="height:1.71853em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.6951999999999998em;"><span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:9.155989em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>此时我们已经可以写出代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>&#123;<br><span class="hljs-type">int</span> base = <span class="hljs-number">3</span>;<br><span class="hljs-type">int</span> power = <span class="hljs-number">5</span>, result = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (power) &#123;<br>        <span class="hljs-keyword">if</span> (power &amp; <span class="hljs-number">1</span>) &#123;<br>            result *= base;<br>        &#125;<br>        base *= base;<br>        power &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, result);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<p><strong>进阶</strong>–递归法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-title">fastPow</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> a, <span class="hljs-type">long</span> <span class="hljs-type">long</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<span class="hljs-comment">//截止条件</span><br>    <span class="hljs-type">long</span> <span class="hljs-type">long</span> half = <span class="hljs-built_in">fastPow</span>(a, b/<span class="hljs-number">2</span>);<span class="hljs-comment">//递归基</span><br>    <span class="hljs-keyword">return</span> (b % <span class="hljs-number">2</span>) ? half * half * a : half * half;<span class="hljs-comment">//结果整合</span><br>&#125;<br></code></pre></td></tr></table></figure>
<p><em><strong>递归解析</strong></em></p>
<blockquote>
<p>递归，递归，递归</p>
<ul>
<li>Liew.Y</li>
</ul>
</blockquote>
<p>众所周知递归是很难理解的，所以针对递归我进行详细解释：<s>其实是我不会</s></p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext mathvariant="bold">Step1</mtext><mspace width="1em"/><mtext>从“分-治-合”的角度分析</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext mathvariant="bold">分</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mtext>把指数 </mtext><mi>b</mi><mtext> 不断二分</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mtext>快速幂的降幂基础：</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">a</mi><mi mathvariant="bold">s</mi><msup><mi mathvariant="bold">e</mi><mi mathvariant="bold">b</mi></msup></mrow><mo>=</mo><mo stretchy="false">(</mo><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">a</mi><mi mathvariant="bold">s</mi><msup><mi mathvariant="bold">e</mi><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup></mrow><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext mathvariant="bold">治</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mtext>计算子问题</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mspace width="1em"/><mrow><msup><mtext>base</mtext><mi mathvariant="bold">b</mi></msup><mo>=</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup><mo>⋅</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext mathvariant="bold">合</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mtext>整合子结果</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>若 b 为奇数</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mrow><msup><mtext>base</mtext><mi mathvariant="bold">b</mi></msup><mo>=</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup><mo>⋅</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup><mo>⋅</mo><mtext>base</mtext></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>若 b 为偶数</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mrow><msup><mtext>base</mtext><mi mathvariant="bold">b</mi></msup><mo>=</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup><mo>⋅</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>如何计算 </mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><msup><mn mathvariant="bold">2</mn><mi mathvariant="bold">n</mi></msup></mrow></msup></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mtext>利用 </mtext><mrow><msup><mtext>base</mtext><mn mathvariant="bold">0</mn></msup><mo>=</mo><mn mathvariant="bold">1</mn></mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>核心观察</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>:</mo><mrow><msup><mtext>base</mtext><mi mathvariant="bold">b</mi></msup><mo>=</mo><mo fence="true">(</mo><msup><mtext>base</mtext><mrow><mi mathvariant="bold">b</mi><mi mathvariant="bold">/</mi><mn mathvariant="bold">2</mn></mrow></msup><msup><mo fence="true">)</mo><mn mathvariant="bold">2</mn></msup></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
&amp;\textbf{Step1} \quad\text{从“分-治-合”的角度分析}\\[6pt]
\textbf{分} &amp;: \text{把指数 }b\text{ 不断二分}\\
&amp;\quad\text{快速幂的降幂基础：} \mathbf{base^{b}} = (\mathbf{base^{b/2}})^{2}\\[4pt]
\textbf{治} &amp;: \text{计算子问题}\\
&amp;\quad\mathbf{\text{base}^{b} = \text{base}^{b/2} \cdot \text{base}^{b/2}}\\[4pt]
\textbf{合} &amp;: \text{整合子结果}\\[4pt]
\text{若 b 为奇数}&amp;: \mathbf{\text{base}^{b} = \text{base}^{b/2} \cdot \text{base}^{b/2} \cdot \text{base}}\\[4pt]
\text{若 b 为偶数}&amp;: \mathbf{\text{base}^{b} = \text{base}^{b/2} \cdot \text{base}^{b/2}}\\[6pt]
\text{如何计算 }&amp;\mathbf{\text{base}^{b/2^{n}}}\\[2pt]
&amp;\text{利用 } \mathbf{\text{base}^{0}=1}\\[6pt]
\text{核心观察}&amp;: \mathbf{\text{base}^{b} = \bigl(\text{base}^{b/2}\bigr)^{2}}
\end{aligned}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:20.999816000000003em;vertical-align:-10.249908000000003em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.749908000000001em;"><span style="top:-12.963916000000001em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"></span></span><span style="top:-10.863916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord textbf cjk_fallback">分</span></span></span></span><span style="top:-9.265916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"></span></span><span style="top:-7.365916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord textbf cjk_fallback">治</span></span></span></span><span style="top:-5.733575999999999em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"></span></span><span style="top:-3.833575999999998em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord textbf cjk_fallback">合</span></span></span></span><span style="top:-1.8012359999999985em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> b </span><span class="mord cjk_fallback">为奇数</span></span></span></span><span style="top:0.23110400000000286em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">若</span><span class="mord"> b </span><span class="mord cjk_fallback">为偶数</span></span></span></span><span style="top:2.4634440000000035em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">如何计算</span><span class="mord"> </span></span></span></span><span style="top:4.221892000000002em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"></span></span><span style="top:6.535900000000003em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord text"><span class="mord cjk_fallback">核心观察</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.249908000000003em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:10.749908000000001em;"><span style="top:-12.963916000000001em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord textbf">Step1</span></span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord cjk_fallback">从</span><span class="mord">“</span><span class="mord cjk_fallback">分</span><span class="mord">-</span><span class="mord cjk_fallback">治</span><span class="mord">-</span><span class="mord cjk_fallback">合</span><span class="mord">”</span><span class="mord cjk_fallback">的角度分析</span></span></span></span><span style="top:-10.863916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord cjk_fallback">把指数</span><span class="mord"> </span></span><span class="mord mathnormal">b</span><span class="mord text"><span class="mord"> </span><span class="mord cjk_fallback">不断二分</span></span></span></span><span style="top:-9.265916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord text"><span class="mord cjk_fallback">快速幂的降幂基础：</span></span><span class="mord"><span class="mord mathbf">b</span><span class="mord mathbf">a</span><span class="mord mathbf">s</span><span class="mord"><span class="mord mathbf">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathbf">b</span><span class="mord mathbf">a</span><span class="mord mathbf">s</span><span class="mord"><span class="mord mathbf">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-7.365916em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord cjk_fallback">计算子问题</span></span></span></span><span style="top:-5.733575999999999em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.833575999999998em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord text"><span class="mord cjk_fallback">整合子结果</span></span></span></span><span style="top:-1.8012359999999985em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord text"><span class="mord">base</span></span></span></span></span><span style="top:0.23110400000000286em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:2.4634440000000035em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mtight"><span class="mord mathbf mtight">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7484571428571429em;"><span style="top:-2.931em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathbf mtight">n</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span style="top:4.221892000000002em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mord text"><span class="mord cjk_fallback">利用</span><span class="mord"> </span></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8984479999999999em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">0</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathbf">1</span></span></span></span><span style="top:6.535900000000003em;"><span class="pstrut" style="height:3.054008em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9334479999999998em;"><span style="top:-3.1473400000000002em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mopen"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord text"><span class="mord">base</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.97234em;"><span style="top:-3.14734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">b</span><span class="mord mathbf mtight">/</span><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose"><span class="delimsizing size1">)</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.054008em;"><span style="top:-3.3029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbf mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:10.249908000000003em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<h2 id="补充部分"><a class="markdownIt-Anchor" href="#补充部分"></a> 补充部分</h2>
<p>我们由此次观察不仅可以得到可以通过</p>
<blockquote>
<p>N&amp;1</p>
</blockquote>
<p>的形式取得低位<br />
同时也可以自然的得到另一种方法<br />
N%2</p>
<blockquote>
<p><strong>PROVE</strong><br />
如果N_{(2)}=1001_{(2)}<br><br />
则 N_{(10)}=2<sup>{3}+2</sup>{0} 的形式，其中前项是偶数 =&gt; 余数=2^{0}<br></p>
</blockquote>
<h2 id="扩展"><a class="markdownIt-Anchor" href="#扩展"></a> 扩展</h2>
<h2 id="模下快速幂"><a class="markdownIt-Anchor" href="#模下快速幂"></a> 模下快速幂</h2>
<blockquote>
<p><strong>必备知识</strong><br />
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>×</mo><mi>b</mi><mo stretchy="false">)</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>c</mi><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mi>a</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>c</mi><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mi>b</mi><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>c</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mi>c</mi></mrow><annotation encoding="application/x-tex">(a \times b) \bmod c = ((a \bmod c) \times (b \bmod c)) \bmod c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span><br />
<strong>这里我们或许认为很难以记忆</strong><br><br />
<strong>其实确实不好理解</strong>  但是我们直接简记：<strong>层层求模</strong><br></p>
</blockquote>
<h2 id="应用方法"><a class="markdownIt-Anchor" href="#应用方法"></a> 应用方法</h2>
<p><strong>题目</strong><br />
给定一个整数n求，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>n</mi></msup></mrow><annotation encoding="application/x-tex">2^{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>对于1007的模;</p>
<blockquote>
<p><strong>思维链</strong></p>
<ol>
<li>首先要求幂运算，我们可以想到快速幂法</li>
<li>其次要求模，刚好结合我们的扩展</li>
<li>现在开始拆分</li>
<li>首先 <code>result = result * base</code></li>
<li>我们当然第一时刻想到的是直接对最终结果求<code>mod</code></li>
<li>但是显而易见，计算机的数据储存很可能不足</li>
<li>所以我们采用扩展的公式</li>
<li>对<code>result</code>和<code>base</code>分别求<code>mod</code><br />
<strong>思考结果</strong>：更改开头代码对二者分别求<code>mod</code></li>
</ol>
</blockquote>
<p>完整代码</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstdio&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">void</span>)</span> </span>&#123;<br><span class="hljs-type">int</span> base = <span class="hljs-number">2</span>;<br><span class="hljs-type">int</span> power, result = <span class="hljs-number">1</span>;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;power);<br>    <span class="hljs-keyword">while</span> (power) &#123;<br>        <span class="hljs-keyword">if</span> (power &amp; <span class="hljs-number">1</span>) &#123;<br>            result = (result * base) % <span class="hljs-number">1007</span>;<br>        &#125;<br>        base = (base * base) % <span class="hljs-number">1007</span>;<br>        power &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, result);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="注意"><a class="markdownIt-Anchor" href="#注意"></a> 注意</h2>
<p>虽然快速幂法相比于暴力算法更快<br />
但是需要记住快速幂法和暴力法一样都受制于内存的限制</p>
</div><script src="https://cdn.jsdelivr.net/lightgallery.js/1.0.1/js/lightgallery.min.js"></script><script>if (typeof lightGallery !== 'undefined') {
        var options = {
            selector: '.gallery-item'
        };
        lightGallery(document.getElementsByClassName('.article-gallery')[0], options);
        }</script>
        </div>
    
<!-- tags -->

    <div class="post-meta">
        标签：
        
            <a href="/tags/%E7%AE%97%E6%B3%95/"> / 算法</a>
        
    </div>

</div>
                <div class="footer">
    <span>Copyright © <script>document.write(new Date().getFullYear())</script> Nonnika&#39;s Blog</span>
    <span>Powered by <a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a> with <a target="_blank" rel="noopener" href="https:///imzl.com/zenmind">ZenMind</a></span>
</div>

<link rel="stylesheet" href="/css/github.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>

<script>
    // Hexo 已在服务端完成代码高亮，客户端不需要再次处理
    // hljs.initHighlightingOnLoad();
    // hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    </body>
</html>